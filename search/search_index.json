{"config":{"lang":["ja"],"separator":"[\\s\\-\uff0c\u3002]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u671b\u6625\u5929","text":""},{"location":"it/coredns/","title":"CoreDNS","text":"<p>\u540c\u7c7b\u7684 DNS \u8fd8\u6709 dnsmasq\u3001bind \u7b49\u3002\u4e4b\u6240\u4ee5\u9009\u62e9 CoreDNS \u662f\u56e0\u4e3a\u5b83\u975e\u5e38\u8f7b\u4fbf\u548c\u6613\u7528\uff0c\u540c\u65f6\u4e5f\u662f\u4e3a\u4e86\u719f\u6089 Kubenetes \u7684\u8fd0\u4f5c\u3002</p>"},{"location":"it/coredns/#_1","title":"\u5b89\u88c5","text":"<p>\u4f7f\u7528\u5b98\u65b9\u7684 docker \u955c\u50cf\u8fdb\u884c\u5b89\u88c5\uff0c\u53ef\u4ee5\u53c2\u8003 https://github.com/aisuhua/docker-coredns</p> <pre><code>git clone git@github.com:aisuhua/docker-coredns.git\ncd docker-coredns\ndocker-compose up\n</code></pre>"},{"location":"it/coredns/#_2","title":"\u4f7f\u7528","text":""},{"location":"it/coredns/#kylin-v10","title":"Kylin V10","text":"<p>\u4fee\u6539 DNS \u914d\u7f6e</p> <pre><code>sudo vim /etc/systemd/resolved.conf\n</code></pre> <p>\u5c06\u57df\u540d\u670d\u52a1\u5668 IP \u52a0\u5230\u914d\u7f6e\u6587\u4ef6</p> <pre><code>[Resolve]\nDNS=192.168.1.100\n...\n</code></pre> <p>\u91cd\u542f\u670d\u52a1\u751f\u6548</p> <pre><code>sudo systemctl daemon-reload\nsudo systemctl restart systemd-resolved\n</code></pre>"},{"location":"it/linux/user/","title":"\u7528\u6237","text":""},{"location":"it/linux/user/#_2","title":"\u52a0\u5165\u7ec4","text":"<pre><code>usermod -a -G sudo suhua\n</code></pre>"},{"location":"it/openshift/install/","title":"\u5b89\u88c5","text":"<p>\u672c\u6587\u8bb0\u5f55\u4e86\u5728\u79bb\u7ebf\u73af\u5883\u4e0b\u5b89\u88c5 OpenShift 4.8.36 \u7684\u5b8c\u6574\u6b65\u9aa4\u3002</p>"},{"location":"it/openshift/install/#_2","title":"\u524d\u63d0","text":"<p>\u8981\u5b8c\u6210\u5b89\u88c5 OpenShift\uff0c\u5fc5\u987b\u8981\u6709 DNS\u3001Chrony\u3001\u8d1f\u8f7d\u5747\u8861\u5668\uff08HAProxy\u3001Nginx \u7b49\uff09\u3001\u955c\u50cf\u4ed3\u5e93\uff08Harbor\uff09\u3002</p> <ol> <li>CoreDNS</li> </ol>"},{"location":"it/openshift/install/dns/","title":"\u914d\u7f6e DNS","text":"<p>\u4e0b\u9762\u4ee5 CoreDNS \u4e3a\u4f8b\uff0c\u5176\u4ed6 DNS \u505a\u6cd5\u7c7b\u4f3c\u3002 </p>"},{"location":"it/openshift/install/dns/#_1","title":"\u6b63\u5411\u89e3\u6790","text":"<p>\u65b0\u5efa db.ocp1.example.com \u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b</p> <pre><code>$ORIGIN ocp1.example.com.\n@   3600 IN SOA example.com. example.com. (\n                2017042745 ; serial\n                7200       ; refresh (2 hours)\n                3600       ; retry (1 hour)\n                1209600    ; expire (2 weeks)\n                3600       ; minimum (1 hour)\n                )\n\n    3600 IN NS ns.example.com.\n\napi         IN A     192.168.1.10\napi-int     IN A     192.168.1.10\n\n*.apps      IN A     192.168.1.10\n\nbootstrap   IN A     192.168.1.10\n\nmaster1     IN A     192.168.1.20\nmaster2     IN A     192.168.1.21\nmaster3     IN A     192.168.1.22\n\nworker1     IN A     192.168.1.30\nworker2     IN A     192.168.1.31\nworker3     IN A     192.168.1.32\n</code></pre>"},{"location":"it/openshift/install/dns/#_2","title":"\u53cd\u5411\u89e3\u6790","text":"<p>\u65b0\u5efa db.1.168.192 \u6587\u4ef6\uff0c\u5185\u5bb9\u5982\u4e0b</p> <pre><code>@   3600 IN SOA example.com. example.com. (\n                2017042745 ; serial\n                7200       ; refresh (2 hours)\n                3600       ; retry (1 hour)\n                1209600    ; expire (2 weeks)\n                3600       ; minimum (1 hour)\n                )\n\n    3600 IN NS ns.example.com.\n\n10     IN PTR     api.ocp1.example.com.\n10     IN PTR     api-int.ocp1.example.com.\n20     IN PTR     master1.ocp1.example.com.\n21     IN PTR     master2.ocp1.example.com.\n22     IN PTR     master3.ocp1.example.com.\n30     IN PTR     worker1.ocp1.example.com.\n31     IN PTR     worker2.ocp1.example.com.\n32     IN PTR     worker3.ocp1.example.com.\n</code></pre>"},{"location":"it/openshift/install/dns/#corefile","title":"\u914d\u7f6e\u5230 Corefile","text":"<pre><code>.:53 {\n    log\n    errors\n    cache\n\n    file db.ocp1.example.com ocp1.example.com\n    file db.1.168.192 1.168.192.in-addr.arpa\n}\n</code></pre>"},{"location":"it/openshift/install/download/","title":"\u51c6\u5907\u5b89\u88c5\u4ecb\u8d28","text":""},{"location":"it/openshift/install/download/#_2","title":"\u9700\u8981\u7684\u4ecb\u8d28","text":"<ol> <li>OpenShift \u5b89\u88c5\u811a\u672c openshift-install-linux-4.8.36.tar.gz</li> <li>OpenShift oc \u5ba2\u6237\u7aef openshift-client-linux-4.8.36.tar.gz </li> <li>CoreOS \u5b89\u88c5\u5149\u76d8 rhcos-4.8.14-x86_64-live.x86_64.iso</li> <li>machine configs \u751f\u6210\u5de5\u5177 butane</li> <li>OpenShift \u5b89\u88c5\u955c\u50cf 4.8.36_releases</li> <li>\u4e00\u4e2a 4G+ \u7684 U \u76d8\uff0c\u7528\u4e8e\u523b\u5f55\u5b89\u88c5\u5149\u76d8</li> </ol> <p>\u4ee5\u4e0a\u4ecb\u8d28\uff0c\u9664\u4e86\u4e0b\u8f7d OpenShift \u5b89\u88c5\u955c\u50cf\u9700\u8981\u4f7f\u7528\u8ba2\u9605\u53f7\u5916\uff0c\u5176\u4ed6\u4ecb\u8d28\u90fd\u53ef\u4ee5\u5728\u516c\u7f51\u76f4\u63a5\u4e0b\u8f7d\u3002</p>"},{"location":"it/openshift/install/download/#_3","title":"\u4e0b\u8f7d\u5b89\u88c5\u955c\u50cf","text":"<p>\u4ee5\u4e0b\u6b65\u9aa4\u5c06\u4e0b\u8f7d OpenShift \u5b89\u88c5\u955c\u50cf\u5230\u672c\u5730\u78c1\u76d8\uff0c\u955c\u50cf\u6bd4\u8f83\u5927\uff0c\u8bf7\u9884\u7559\u81f3\u5c11 20GB \u7a7a\u95f4\u3002</p> <p>Note</p> <p>\u56e0\u4e3a\u9700\u8981\u4ece\u7ea2\u5e3d\u5b98\u7f51\u4e0b\u8f7d\u955c\u50cf\uff0c\u5982\u679c\u7528\u4e2a\u4eba\u7535\u8111\u4e0b\u8f7d\uff0c\u901f\u5ea6\u4f1a\u6bd4\u8f83\u6162\uff0c\u800c\u4e14\u7ecf\u5e38\u4e2d\u65ad\uff0c \u6240\u4ee5\u5efa\u8bae\u4f7f\u7528\u56fd\u5185\u7684\u4e91\u670d\u52a1\u5668\uff08\u4f8b\u5982\uff1a\u963f\u91cc\u4e91\u3001\u817e\u8baf\u4e91\u7b49\uff09\u8fdb\u884c\u4e0b\u8f7d\u3002</p>"},{"location":"it/openshift/install/download/#oc","title":"\u5b89\u88c5 oc \u5ba2\u6237\u7aef","text":"<pre><code>tar -zxvf openshift-client-linux-4.8.36.tar.gz -C /usr/local/bin oc kubectl\n</code></pre>"},{"location":"it/openshift/install/download/#pull-secerttxt","title":"\u83b7\u53d6 pull-secert.txt","text":"<p>\u6253\u5f00 https://console.redhat.com/openshift/install/pull-secret \u9875\u9762\uff0c\u4f7f\u7528\u8ba2\u9605\u53f7\u767b\u5f55\u540e\u4e0b\u8f7d\u3002</p>"},{"location":"it/openshift/install/download/#_4","title":"\u5c06\u955c\u50cf\u540c\u6b65\u5230\u672c\u5730","text":"<pre><code>oc adm -a pull-secret.txt release mirror 4.8.36 --to-dir ./4.8.36_release\n</code></pre>"},{"location":"it/openshift/install/download/#_5","title":"\u6253\u5305\u955c\u50cf\u6587\u4ef6\u5939","text":"<pre><code>tar -cvf 4.8.36_release.tar 4.8.36_release\n</code></pre>"},{"location":"it/openshift/install/download/#_6","title":"\u5236\u4f5c\u542f\u52a8\u76d8","text":"<pre><code>dd if=rhcos-4.8.14-x86_64-live.x86_64.iso of=&lt;dev/sdx&gt; status=progress\n</code></pre> <p>Note</p> <p>CoreOS \u7684\u7248\u672c\u4e0d\u80fd\u9ad8\u8fc7\u73b0\u5728\u6240\u8981\u5b89\u88c5\u7684 OpenShift \u7684\u7248\u672c\u3002</p>"},{"location":"it/ssl/import-ca/","title":"\u5bfc\u5165\u8bc1\u4e66","text":""},{"location":"it/ssl/import-ca/#ubuntu","title":"Ubuntu","text":"<pre><code>sudo apt-get install -y ca-certificates\nsudo cp local-ca.crt /usr/local/share/ca-certificates\nsudo update-ca-certificates\n</code></pre>"}]}